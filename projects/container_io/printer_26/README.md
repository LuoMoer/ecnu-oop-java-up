## 校园打印店任务调度器

校园打印店只有**一台打印机**。同学们不断提交打印任务（作业、海报、证件照等），每个任务都有：

- `arrival`：到达时间（分钟，整数）
- `pages`：打印页数（每页 1 分钟）
- `priority`：是否紧急（0 普通 / 1 紧急）

你的系统要决定“下一分钟打印谁”，目标是**降低平均等待时间**，并保证策略可以用**队列操作**实现。

- 不允许每一步把所有任务拿出来排序。
- 允许使用 **多个队列**（每个队列用 `LinkedList` 实现）。
- 允许操作：`入队(尾插/头插)`、`出队(队首/队尾)`、`轮转(弹出再插回尾部)`、`跨队列移动`。

### 实验内容

1. 调度方案设计。设计一个调度方案，至少需要澄清以下问题：

   - 你维护了几个队列？每个队列放什么？
   - 新任务到来时怎么入队？
   - 打印机空闲时怎么选任务？
   - （可选）如何避免某些任务一直等不到（饥饿）？

   先尝试自己设计一种调度方案，然后额外在互联网/AI学习两种调度方案，在下一步的实验中尝试对比他们。

2. 根据你设计和学习的调度方案，借助AI做一个命令行小程序，至少支持：

   - 读入一组任务列表

   - 选择一种策略（需支持上述三种策略）

   - 运行模拟调度并输出：

     1. 每个任务的 `waiting time = finish - arrival - pages`

     2. **平均等待时间**（double，保留 2 位）

3. 尝试可视化你实现的所有调度方案，例如对于样例：

   ```
   5
   U1 0 3 1
   N1 0 6 0
   U2 1 2 1
   N2 2 1 0
   U3 4 1 1
   ```

   我们采用先来先服务（FCFS）的调度策略，在每个时刻 t 都可视化当前的调度策略，并打印在shell：

   ```shell
   ┌──────────────────────────────────────────────────────────────┐
   │  SCHEDULER PANEL | policy=FCFS (non-preemptive)              │
   ├──────────────────────────────────────────────────────────────┤
   │  t = 0                                                    CPU│
   │  arrivals: U1(3) N1(6)                                       │
   │  running : U1 [###.....]  rem=3/3                            │
   ├──────────────────────────────────────────────────────────────┤
   │  ReadyQ  : N1(6)                                             │
   │  Gantt   : [0- ] U1                                          │
   │  Done    : (none)                                            │
   │  AvgWait(done only): 0.00                                    │
   └──────────────────────────────────────────────────────────────┘
   ┌──────────────────────────────────────────────────────────────┐
   │  t = 1                                                       │
   │  arrivals: U2(2)                                             │
   │  running : U1 [##......]  rem=2/3                            │
   ├──────────────────────────────────────────────────────────────┤
   │  ReadyQ  : N1(6) U2(2)                                       │
   │  Gantt   : [0- ] U1                                          │
   │  Done    : (none)                                            │
   │  AvgWait(done only): 0.00                                    │
   └──────────────────────────────────────────────────────────────┘
   ┌──────────────────────────────────────────────────────────────┐
   │  t = 2                                                       │
   │  arrivals: N2(1)                                             │
   │  running : U1 [#.......]  rem=1/3                            │
   ├──────────────────────────────────────────────────────────────┤
   │  ReadyQ  : N1(6) U2(2) N2(1)                                 │
   │  Gantt   : [0- ] U1                                          │
   │  Done    : (none)                                            │
   │  AvgWait(done only): 0.00                                    │
   └──────────────────────────────────────────────────────────────┘
   ┌──────────────────────────────────────────────────────────────┐
   │  t = 3                                                       │
   │  event   : U1 finished. CPU takes next from ReadyQ -> N1     │
   │  running : N1 [######..] rem=6/6                             │
   ├──────────────────────────────────────────────────────────────┤
   │  ReadyQ  : U2(2) N2(1)                                       │
   │  Gantt   : [0-3] U1 | [3- ] N1                               │
   │  Done    : U1(wait=0)                                        │
   │  AvgWait(done only): 0.00                                    │
   └──────────────────────────────────────────────────────────────┘
   ┌──────────────────────────────────────────────────────────────┐
   │  t = 4                                                       │
   │  arrivals: U3(1)                                             │
   │  running : N1 [#####...] rem=5/6                             │
   ├──────────────────────────────────────────────────────────────┤
   │  ReadyQ  : U2(2) N2(1) U3(1)                                 │
   │  Gantt   : [0-3] U1 | [3- ] N1                               │
   │  Done    : U1(wait=0)                                        │
   │  AvgWait(done only): 0.00                                    │
   └──────────────────────────────────────────────────────────────┘
   ...
   ┌──────────────────────────────────────────────────────────────┐
   │  t = 9                                                       │
   │  event   : N1 finished. CPU takes next -> U2                 │
   │  running : U2 [##......] rem=2/2                             │
   ├──────────────────────────────────────────────────────────────┤
   │  ReadyQ  : N2(1) U3(1)                                       │
   │  Gantt   : [0-3]U1 | [3-9]N1 | [9- ]U2                       │
   │  Done    : U1(w=0) N1(w=3)                                   │
   │  AvgWait(done only): 1.50                                    │
   └──────────────────────────────────────────────────────────────┘
   ...
   ┌──────────────────────────────────────────────────────────────┐
   │  t = 11                                                      │
   │  event   : U2 finished. CPU takes next -> N2                 │
   │  running : N2 [#.......] rem=1/1                             │
   ├──────────────────────────────────────────────────────────────┤
   │  ReadyQ  : U3(1)                                             │
   │  Gantt   : [0-3]U1 [3-9]N1 [9-11]U2 [11- ]N2                 │
   │  Done    : U1(w=0) N1(w=3) U2(w=8)                           │
   │  AvgWait(done only): 3.67                                    │
   └──────────────────────────────────────────────────────────────┘
   ┌──────────────────────────────────────────────────────────────┐
   │  t = 12                                                      │
   │  event   : N2 finished. CPU takes next -> U3                 │
   │  running : U3 [#.......] rem=1/1                             │
   ├──────────────────────────────────────────────────────────────┤
   │  ReadyQ  : (empty)                                           │
   │  Gantt   : [0-3]U1 [3-9]N1 [9-11]U2 [11-12]N2 [12- ]U3       │
   │  Done    : U1(w=0) N1(w=3) U2(w=8) N2(w=9)                   │
   │  AvgWait(done only): 5.00                                    │
   └──────────────────────────────────────────────────────────────┘
   ┌──────────────────────────────────────────────────────────────┐
   │  t = 13                                                      │
   │  event   : U3 finished. ALL DONE                             │
   ├──────────────────────────────────────────────────────────────┤
   │  Done    : U1(w=0) N1(w=3) U2(w=8) N2(w=9) U3(w=8)           │
   │  AvgWait(all): 5.60                                          │
   └──────────────────────────────────────────────────────────────┘
   ```

   你也可以尝试使用AI编程助手将这个可视化页面制作的更加美观清晰，例如制作一个调度可视化网页、使用动画展示调度方案等。

**输入样例**
第一行给出任务数量 `n`
接下来 `n` 行：`id arrival pages priority`

**样例 #1**

```
5
A 0 8 0
B 1 1 0
C 2 2 0
D 3 1 0
E 4 2 0
```

**样例 #2**

```
5
A 0 3 1
B 0 6 0
C 1 2 1
D 2 1 0
E 4 1 1
```

**样例 #3**

```
8
A 0 9 0
B 0 1 0
C 1 1 0
D 2 3 0
E 3 1 0
F 4 3 0
G 5 1 0
H 6 8 0
```

